import{o as s,a as e,w as a,d as t,f as n,t as i,g as o,u as r,Z as u,C as m,j as l,k as c,F as g,D as p,r as d}from"./index-fc227ea0.js";import{_ as f}from"./_plugin-vue_export-helper.1b428a4d.js";import{r as h}from"./uni-app.es.8812c3d7.js";import{g as _}from"./index.0c1b18af.js";const b=f({name:"bigmsg",props:{user:"",content:"",happen:""},data:()=>({})},[["render",function(r,u,m,l,c,g){const p=o;return s(),e(p,{class:"big-msg"},{default:a((()=>[t(p,{class:"msg-user"},{default:a((()=>[n("用户："+i(m.user),1)])),_:1}),t(p,{class:"msg-content"},{default:a((()=>[n(i(m.content),1)])),_:1}),t(p,{class:"msg-time"},{default:a((()=>[n("发生时间: "+i(m.happen),1)])),_:1})])),_:1})}]]);const j=f({data:()=>({msgs:[],userName:""}),mounted(){this.init()},methods:{init(){const s=r(),{id:e,userName:a}=s.userinfo;this.userName=a,this.getBigMsg(e)},getBigMsg(s){_(`api/memorabilia/${s}`).then((s=>{const{data:e,msg:a}=s;1==s.code&&s.success?(this.msgs=[],e.memorabilias.forEach((s=>{this.msgs.push(s)}))):u({title:a,duration:2e3,icon:"none"})}))},toMsg(){m({url:"/pages/index/msg"})}}},[["render",function(i,r,u,m,f,_){const j=p,x=o,M=h(d("bigmsg"),b);return s(),e(x,{class:"container"},{default:a((()=>[t(x,{class:"header"},{default:a((()=>[t(x,null,{default:a((()=>[t(j,{onClick:_.toMsg,type:"primary"},{default:a((()=>[n("添加大事件")])),_:1},8,["onClick"])])),_:1})])),_:1}),t(x,{class:"title"},{default:a((()=>[n("你创建的大事件")])),_:1}),(s(!0),l(g,null,c(f.msgs,((a,t)=>(s(),e(M,{user:f.userName,content:a.content,happen:a.happenTime},null,8,["user","content","happen"])))),256))])),_:1})}]]);export{j as default};
